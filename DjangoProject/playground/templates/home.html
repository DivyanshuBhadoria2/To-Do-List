{% extends 'base.html' %}

{% block content %}
<h1>Tasks</h1>
<a href="{% url 'add_task' %}" class="btn btn-secondary">Add Task</a>
<table class="table table-hover table-bordered">
    <thead>
      <tr>
        <th scope="col">User</th>
        <th scope="col">Task</th>
        <th scope="col">Priority</th>
        <th scope="col">Due Date</th>
        <th scope="col">Categories</th>
        <th scope="col">ID</th>
      </tr>
    </thead>
    <tbody class="table-group-divider">
      <tr>
        {% if tasks %}
        {% for task in tasks %}
            <tr>
                <td>{{ task.user }}</td>
                <td>{{ task.task_description }}</td>
                <td>{{ task.priority }}</td>
                <td>{{ task.due_date }}</td>
                <td>
                    {% for category in task.categories.all %}
                        {{ category.category_name }}
                        {% if not forloop.last %}, {% endif %}
                    {% endfor %}
                </td>
                <td><a href="{% url 'task' task.id %}">{{ task.id }}</a></td>
                <br/>
            </tr>
        {% endfor %}
    {% endif %}
    </tr>
</tbody>
</table>
{% endblock %}